(function(d,c){var b=/^(https?:)?\/\/([^\/:]+)/,e="Content-Type: text/plain",a=!!window.XDomainRequest&&((window.XMLHttpRequest===c)||!("withCredentials" in new XMLHttpRequest()));d.factory("corsUtil",["$window",function(h){function g(l,j){if(!a){return false}l=l.toUpperCase();if((l!="GET")&&(l!="POST")){return false}var i=h.location.hostname,k=b.exec(j);return(((k)?k[2]:i)!=i)}function f(i,j){i.headers=c;i.data=i.data||{};i.url=i.url.replace(/([a-z0-9])\/(.+)/,"$1/cors/$2");i.data.cors=angular.extend(j||{},{method:i.method});i.method="POST"}return{isLegacyCorsRequest:g,toCorsRequest:f}}]);if(a){d.provider("IECorsHttpBackend",function(){var g=window.XDomainRequest;function f(h,k,i,l,j){return function(m,n,w,x,p,u,r,s){var q=new k(),v;q.open(m,n);q.timeout=u;q.onprogress=function(){};q.ontimeout=function(){q.abort();o(x,408,"Timeout",e)};q.onload=function(){o(x,200,q.responseText,"Content-Type: "+q.contentType)};q.onerror=function(){q.abort();o(x,500,"Error",e)};i(function(){h.$$incOutstandingRequestCount();q.send(w||"")},0);if(u>0){v=i(t,u)}else{if(u&&u.then){u.then(t)}}function t(){q&&q.abort()}function o(B,y,z,A){v&&i.cancel(v);v=c;q=null;y=(y==1223)?204:y;B(y,z,A);h.$$completeOutstandingRequest(angular.noop)}}}this.$get=["$browser","$window","$document",function(h,j,i){return f(h,g,h.defer,j.angular.callbacks,i[0])}]});d.config(["$provide","$httpProvider",function(g,f){g.decorator("$httpBackend",["$delegate","$window","IECorsHttpBackend","corsUtil",function(h,k,j,i){return function(n,l){var m=h;if(i.isLegacyCorsRequest(n,l)){m=j}m.apply(m,arguments)}}])}])}})(angular.module("corsIEFix",["ng"]));